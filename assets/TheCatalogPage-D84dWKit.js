import{m as p,a as P,_ as b,o as f,c as h,b as t,j as r,v as c,k as m,l as o,d as u,i as y,f as n}from"./index-CrEprENQ.js";import{u as g}from"./categories-DSXdPruc.js";import{T as F,a as C}from"./TheCatalogItem-F9s7soyV.js";import{T as S}from"./TheError-C0iVRJfS.js";import"./PopUpBag-DbFKedAG.js";import"./TheBagsItem-r3fw0yKX.js";import"./TheButtonOrange-BIz4xVJP.js";const T={name:"TheFilter",emits:["plants-filtered"],data(){return{min:0,max:5e3,isSales:!1,isNewArrivals:!1,isTopSales:!1,currentCategory:null,categories:{isDecorativeFlorentem:!1,isFoliage:!1,isOrchidaceae:!1,isBonsai:!1,isSucculenta:!1,isCitrus:!1,isFlorariums:!1,isExotic:!1},height:{isSmall:!1,isMiddle:!1,isLarge:!1}}},computed:{...p(g,["catalog","selectedCategory"])},methods:{...P(g,["getAllPlants","getCategoryByName"]),filterPlants(){let a=this.catalog.filter(e=>e.price>=this.min&&e.price<=this.max);(this.isSales||this.isNewArrivals||this.isTopSales)&&(a=a.filter(e=>this.isSales&&e.status==="Розпродаж"||this.isNewArrivals&&e.status==="Новинки"||this.isTopSales&&e.status==="Топ продажів")),(this.categories.isFlorariums||this.categories.isDecorativeFlorentem||this.categories.isBonsai||this.categories.isCitrus||this.categories.isSucculenta||this.categories.isOrchidaceae||this.categories.isFoliage||this.categories.isExotic)&&(a=a.filter(e=>this.categories.isDecorativeFlorentem&&e.category==="Декоративно-квітучі"||this.categories.isFoliage&&e.category==="Декоративно-листяні"||this.categories.isOrchidaceae&&e.category==="Орхідеї"||this.categories.isBonsai&&e.category==="Бонсай"||this.categories.isSucculenta&&e.category==="Сукуленти"||this.categories.isCitrus&&e.category==="Цитрусові рослини"||this.categories.isFlorariums&&e.category==="Флораріуми"||this.categories.isExotic&&e.category==="Екзотичні кімнатні рослини")),(this.height.isSmall||this.height.isMiddle||this.height.isLarge)&&(a=a.filter(e=>this.height.isSmall&&e.height<=70||this.height.isMiddle&&e.height>70&&e.height<=120||this.height.isLarge&&e.height>120&&e.height<=200)),this.$emit("plants-filtered",a)},resetFilter(){this.min=0,this.max=5e3,this.isSales=!1,this.isNewArrivals=!1,this.isTopSales=!1,this.categories.isDecorativeFlorentem=!1,this.categories.isFoliage=!1,this.categories.isOrchidaceae=!1,this.categories.isBonsai=!1,this.categories.isSucculenta=!1,this.categories.isCitrus=!1,this.categories.isFlorariums=!1,this.height.isSmall=!1,this.height.isMiddle=!1,this.height.isLarge=!1,this.filterPlants()},fetchCategory(){const a=this.$route.params.category;switch(this.categories.isDecorativeFlorentem=!1,this.categories.isFoliage=!1,this.categories.isOrchidaceae=!1,this.categories.isBonsai=!1,this.categories.isSucculenta=!1,this.categories.isCitrus=!1,this.categories.isFlorariums=!1,this.categories.isExotic=!1,a){case"Декоративно-квітучі":this.categories.isDecorativeFlorentem=!0;break;case"Декоративно-листяні":this.categories.isFoliage=!0;break;case"Орхідеї":this.categories.isOrchidaceae=!0;break;case"Бонсай":this.categories.isBonsai=!0;break;case"Сукуленти":this.categories.isSucculenta=!0;break;case"Цитрусові рослини":this.categories.isCitrus=!0;break;case"Флораріуми":this.categories.isFlorariums=!0;break;case"Екзотичні кімнатні рослини":this.categories.isExotic=!0;break;default:this.resetFilter()}this.filterPlants()}},watch:{"$route.params.category":"fetchCategory"},async mounted(){this.fetchCategory(),this.filterPlants()}},w={class:"filter"},V={class:"filter__price"},U={class:"filter__columns"},B={class:"filter__column"},E={for:"from"},N={class:"filter__column"},A={for:"to"},D={class:"filter__type"},M={class:"filter__checkboxes"},O={class:"filter__checkbox checkbox"},L={class:"filter__checkbox checkbox"},I={class:"filter__checkbox checkbox"},K={class:"filter__categories"},j={class:"filter__checkboxes"},q={class:"filter__checkbox"},z={class:"filter__checkbox"},G={class:"filter__checkbox"},H={class:"filter__checkbox"},J={class:"filter__checkbox"},Q={class:"filter__checkbox"},R={class:"filter__checkbox"},W={class:"filter__checkbox"},X={class:"filter__height"},Y={class:"filter__checkboxes"},Z={class:"filter__checkbox"},$={class:"filter__checkbox"},ee={class:"filter__checkbox"};function se(a,e,d,v,l,i){return f(),h("div",w,[t("div",V,[e[35]||(e[35]=t("span",{class:"filter__name"},"Ціна",-1)),t("div",U,[t("div",B,[t("label",E,[r(t("input",{type:"text",id:"from",placeholder:"0 ₴","onUpdate:modelValue":e[0]||(e[0]=s=>l.min=s),onBlur:e[1]||(e[1]=(...s)=>i.filterPlants&&i.filterPlants(...s)),onKeyup:e[2]||(e[2]=m((...s)=>i.filterPlants&&i.filterPlants(...s),["enter"]))},null,544),[[c,l.min,void 0,{number:!0}]])])]),t("div",N,[t("label",A,[r(t("input",{type:"text",id:"to",placeholder:"5 000 ₴","onUpdate:modelValue":e[3]||(e[3]=s=>l.max=s),onBlur:e[4]||(e[4]=(...s)=>i.filterPlants&&i.filterPlants(...s)),onKeyup:e[5]||(e[5]=m((...s)=>i.filterPlants&&i.filterPlants(...s),["enter"]))},null,544),[[c,l.max,void 0,{number:!0}]])])])])]),t("div",D,[e[39]||(e[39]=t("span",{class:"filter__name"},"Типи пропозиції",-1)),t("div",M,[t("div",O,[r(t("input",{type:"checkbox",id:"sales","onUpdate:modelValue":e[6]||(e[6]=s=>l.isSales=s),onChange:e[7]||(e[7]=(...s)=>i.filterPlants&&i.filterPlants(...s))},null,544),[[o,l.isSales]]),e[36]||(e[36]=t("label",{for:"sales"},"Розпродаж",-1))]),t("div",L,[r(t("input",{type:"checkbox",id:"newsPlants","onUpdate:modelValue":e[8]||(e[8]=s=>l.isNewArrivals=s),onChange:e[9]||(e[9]=(...s)=>i.filterPlants&&i.filterPlants(...s))},null,544),[[o,l.isNewArrivals]]),e[37]||(e[37]=t("label",{for:"newsPlants"},"Новинки",-1))]),t("div",I,[r(t("input",{type:"checkbox",id:"top","onUpdate:modelValue":e[10]||(e[10]=s=>l.isTopSales=s),onChange:e[11]||(e[11]=(...s)=>i.filterPlants&&i.filterPlants(...s))},null,544),[[o,l.isTopSales]]),e[38]||(e[38]=t("label",{for:"top"},"Топ розпродажів",-1))])])]),t("div",K,[e[48]||(e[48]=t("span",{class:"filter__name"},"Категорії",-1)),t("div",j,[t("div",q,[r(t("input",{type:"checkbox",id:"decorativeFlorentem","onUpdate:modelValue":e[12]||(e[12]=s=>l.categories.isDecorativeFlorentem=s),onChange:e[13]||(e[13]=(...s)=>i.filterPlants&&i.filterPlants(...s))},null,544),[[o,l.categories.isDecorativeFlorentem]]),e[40]||(e[40]=t("label",{for:"decorativeFlorentem"},"Декоративно-квітучі",-1))]),t("div",z,[r(t("input",{type:"checkbox",id:"foliage","onUpdate:modelValue":e[14]||(e[14]=s=>l.categories.isFoliage=s),onChange:e[15]||(e[15]=(...s)=>i.filterPlants&&i.filterPlants(...s))},null,544),[[o,l.categories.isFoliage]]),e[41]||(e[41]=t("label",{for:"foliage"},"Декоративно-листяні",-1))]),t("div",G,[r(t("input",{type:"checkbox",id:"orchidaceae","onUpdate:modelValue":e[16]||(e[16]=s=>l.categories.isOrchidaceae=s),onChange:e[17]||(e[17]=(...s)=>i.filterPlants&&i.filterPlants(...s))},null,544),[[o,l.categories.isOrchidaceae]]),e[42]||(e[42]=t("label",{for:"orchidaceae"},"Орхідеї",-1))]),t("div",H,[r(t("input",{type:"checkbox",id:"bonsai","onUpdate:modelValue":e[18]||(e[18]=s=>l.categories.isBonsai=s),onChange:e[19]||(e[19]=(...s)=>i.filterPlants&&i.filterPlants(...s))},null,544),[[o,l.categories.isBonsai]]),e[43]||(e[43]=t("label",{for:"bonsai"},"Бонсай",-1))]),t("div",J,[r(t("input",{type:"checkbox",id:"succulenta","onUpdate:modelValue":e[20]||(e[20]=s=>l.categories.isSucculenta=s),onChange:e[21]||(e[21]=(...s)=>i.filterPlants&&i.filterPlants(...s))},null,544),[[o,l.categories.isSucculenta]]),e[44]||(e[44]=t("label",{for:"succulenta"},"Сукуленти",-1))]),t("div",Q,[r(t("input",{type:"checkbox",id:"citrus","onUpdate:modelValue":e[22]||(e[22]=s=>l.categories.isCitrus=s),onChange:e[23]||(e[23]=(...s)=>i.filterPlants&&i.filterPlants(...s))},null,544),[[o,l.categories.isCitrus]]),e[45]||(e[45]=t("label",{for:"citrus"},"Цитрусові рослини",-1))]),t("div",R,[r(t("input",{type:"checkbox",id:"florariums","onUpdate:modelValue":e[24]||(e[24]=s=>l.categories.isFlorariums=s),onChange:e[25]||(e[25]=(...s)=>i.filterPlants&&i.filterPlants(...s))},null,544),[[o,l.categories.isFlorariums]]),e[46]||(e[46]=t("label",{for:"florariums"},"Флораріуми",-1))]),t("div",W,[r(t("input",{type:"checkbox",id:"exotic","onUpdate:modelValue":e[26]||(e[26]=s=>l.categories.isExotic=s),onChange:e[27]||(e[27]=(...s)=>i.filterPlants&&i.filterPlants(...s))},null,544),[[o,l.categories.isExotic]]),e[47]||(e[47]=t("label",{for:"exotic"},"Eкзотичні рослини",-1))])])]),t("div",X,[e[52]||(e[52]=t("span",{class:"filter__name"},"Висота (см)",-1)),t("div",Y,[t("div",Z,[r(t("input",{type:"checkbox",id:"small","onUpdate:modelValue":e[28]||(e[28]=s=>l.height.isSmall=s),onChange:e[29]||(e[29]=(...s)=>i.filterPlants&&i.filterPlants(...s))},null,544),[[o,l.height.isSmall]]),e[49]||(e[49]=t("label",{for:"small"},"20-70",-1))]),t("div",$,[r(t("input",{type:"checkbox",id:"middle","onUpdate:modelValue":e[30]||(e[30]=s=>l.height.isMiddle=s),onChange:e[31]||(e[31]=(...s)=>i.filterPlants&&i.filterPlants(...s))},null,544),[[o,l.height.isMiddle]]),e[50]||(e[50]=t("label",{for:"middle"},"70-120",-1))]),t("div",ee,[r(t("input",{type:"checkbox",id:"large","onUpdate:modelValue":e[32]||(e[32]=s=>l.height.isLarge=s),onChange:e[33]||(e[33]=(...s)=>i.filterPlants&&i.filterPlants(...s))},null,544),[[o,l.height.isLarge]]),e[51]||(e[51]=t("label",{for:"large"},"120-200",-1))])])]),t("button",{class:"filter__btn",onClick:e[34]||(e[34]=(...s)=>i.resetFilter&&i.resetFilter(...s))},"Скинути фільтри")])}const te=b(T,[["render",se],["__scopeId","data-v-87d5558e"]]),ie={name:"TheCatalogPage",components:{TheNavigation:F,TheFilter:te,TheCatalogItem:C,TheError:S},data(){return{filteredPlants:[],currentPlants:[],loading:!0}},computed:{...p(g,["catalog"])},methods:{...P(g,["getAllPlants"]),setFilteredPlants(a){this.filteredPlants=a,this.updatePage(1)},updatePage(a){const e=(a-1)*9,d=e+9;this.currentPlants=this.filteredPlants.slice(e,d)}},async mounted(){await this.getAllPlants(),this.setFilteredPlants(this.catalog)}},le={key:0,class:"plant"},re={class:"plant__container"},ae={key:1,class:"loader__wrapper"};function oe(a,e,d,v,l,i){const s=n("TheCatalogItem"),x=n("TheFilter"),k=n("TheNavigation"),_=n("TheError");return l.currentPlants.length?(f(),h("div",le,[t("div",re,[u(s,{showPlants:l.currentPlants,class:"plant__item"},null,8,["showPlants"]),u(x,{class:"plant__filter",onPlantsFiltered:i.setFilteredPlants},null,8,["onPlantsFiltered"])]),u(k,{onShowPage:i.updatePage,"total-plants":l.filteredPlants,"cards-per-page":9},null,8,["onShowPage","total-plants"])])):l.loading?(f(),h("div",ae,e[0]||(e[0]=[t("div",{class:"loader"},null,-1)]))):(f(),y(_,{key:2}))}const me=b(ie,[["render",oe],["__scopeId","data-v-d303463d"]]);export{me as default};
