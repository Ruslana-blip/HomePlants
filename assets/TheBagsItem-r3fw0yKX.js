import{T as C}from"./TheButtonOrange-BIz4xVJP.js";import{p as f,a as m,_ as g,o as a,c as r,b as s,t as h,F as B,r as v,d as _,w as S,f as l}from"./index-CrEprENQ.js";const P=f("bagsStore",{state:()=>({bags:JSON.parse(localStorage.getItem("bags"))||[]}),actions:{addPlantInBag(o,e=1,n,u,d){const c=this.bags.find(i=>i.id===o);c?c.count+=e:this.bags.push({id:o,count:e,img:n,name:u,price:d}),this.updateLocalStorage()},removePlantWithBag(o){this.bags=this.bags.filter(e=>e.id!==o),this.updateLocalStorage()},updatePlantCount(o,e){const n=this.bags.find(u=>u.id===o);n&&(e>0?n.count=e:this.removePlantWithBag(o),this.updateLocalStorage())},updateLocalStorage(){localStorage.setItem("bags",JSON.stringify(this.bags))},clearBags(){this.bags=[],this.updateLocalStorage()}}}),k={name:"TheProductCounter",data(){return{countProducts:this.count}},props:{count:{type:Number,required:!0},plantId:{type:Number}},computed:{currentCount(){return this.countProducts}},methods:{...m(P,["updatePlantCount","updateLocalStorage"]),decrementCount(){this.countProducts>1&&(this.countProducts--,this.updatePlantCount(this.plantId,this.countProducts))},incrementCount(){this.countProducts<10&&(this.countProducts++,this.updatePlantCount(this.plantId,this.countProducts))}},watch:{count(o){this.countProducts=o}}},y={class:"actions"},I=["disabled"],T={class:"actions__count"},L=["disabled"];function x(o,e,n,u,d,c){return a(),r("div",y,[s("button",{class:"actions__decrement",onClick:e[0]||(e[0]=(...i)=>c.decrementCount&&c.decrementCount(...i)),disabled:d.countProducts===1},null,8,I),s("span",T,h(c.currentCount),1),s("button",{class:"actions__increment",onClick:e[1]||(e[1]=(...i)=>c.incrementCount&&c.incrementCount(...i)),disabled:d.countProducts===10},null,8,L)])}const N=g(k,[["render",x],["__scopeId","data-v-573c6e6a"]]),O={name:"TheBagsItem",components:{TheProductCounter:N,TheButtonOrange:C},props:{bags:{type:Array},togglePopUpBag:{type:Function}},methods:{...m(P,["removePlantWithBag"])}},$={class:"plant"},W={class:"plant__container"},w={key:0},F={class:"plant__image"},A=["src","title","alt"],J={class:"plant__content"},R={class:"plant__info"},U={class:"plant__name"},V={class:"plant__price"},q=["onClick"],D={key:1,class:"empty"};function E(o,e,n,u,d,c){const i=l("TheProductCounter"),b=l("TheButtonOrange"),p=l("RouterLink");return a(),r("main",$,[s("div",W,[n.bags.length?(a(),r("ul",w,[(a(!0),r(B,null,v(n.bags,t=>(a(),r("li",{key:t.id,class:"plant__item"},[s("div",F,[s("img",{src:t==null?void 0:t.img,title:t==null?void 0:t.name,alt:t==null?void 0:t.name},null,8,A)]),s("div",J,[s("div",R,[s("span",U,h(t==null?void 0:t.name),1),s("span",V,h(t.count*(t==null?void 0:t.price))+" ₴",1)]),_(i,{count:t.count,plantId:t.id},null,8,["count","plantId"])]),s("button",{class:"plant__remove",onClick:j=>o.removePlantWithBag(t==null?void 0:t.id)},null,8,q)]))),128))])):(a(),r("div",D,[e[0]||(e[0]=s("h2",{class:"empty__title"},"У вас немає товарів доданих в кошик",-1)),e[1]||(e[1]=s("p",{class:"empty__desc"},"Виберіть товари з каталогу, щоб додати їх у кошик.",-1)),_(p,{to:{name:"TheCatalogPage"},onClick:n.togglePopUpBag},{default:S(()=>[_(b,{width:378,title:"ПЕРЕЙТИ ДО КАТАЛОГУ"})]),_:1},8,["onClick"])]))])])}const H=g(O,[["render",E],["__scopeId","data-v-69b26119"]]);export{H as T,P as u};
