import{T as R}from"./TheSlider-XX0K_DWH.js";import{P as j}from"./PopUpBag-DbFKedAG.js";import{T as G,a as J}from"./TheTab-Cripc5QL.js";import{T as K}from"./TheButtonOrange-BIz4xVJP.js";import{T as M}from"./TheError-C0iVRJfS.js";import{u as h}from"./TheBagsItem-r3fw0yKX.js";import{u as W}from"./categories-DSXdPruc.js";import{_ as Q,m as H,a as m,c as d,b as t,F as X,r as Y,s as Z,g,n as L,t as n,e as P,d as c,w as b,i as x,f as p,o as i}from"./index-CrEprENQ.js";/* empty css                   */const $={name:"TheSinglePlantPage",components:{TheSlider:R,PopUpBag:j,TheTabsWrapper:G,TheTab:J,TheButtonOrange:K,TheError:M},data(){return{selectedImage:0,title:"Вам також може сподобатись",titleButton:"ДОДАТИ В КОШИК",isPopUpVisible:!1,loading:!0,currentCount:1}},computed:{...H(W,["selectedPlant","newsPlants"]),...H(h,["bags"]),isDataExists(){return!!localStorage.getItem("newsPlants")},progressBarHeight(){var s;return this.selectedImage===null||!((s=this.selectedPlant)!=null&&s.img.length)?0:(this.selectedImage+1)/this.selectedPlant.img.length*684}},methods:{...m(h,["updatePlantCount","updateLocalStorage"]),...m(W,["getPlantById"]),...m(h,["addPlantInBag"]),getStatusClass(e){return e==="Новинки"?"plant__newPlants":e==="Розпродаж"?"plant__sales":e==="Топ продажів"?"plant__top":""},async fetchPlantData(){await this.getPlantById(this.$route.params.id)},selectImage(e){this.selectedImage=e},togglePopUpBag(){this.isPopUpVisible=!this.isPopUpVisible},addPlantToBag(){var e;this.selectedPlant&&(this.addPlantInBag(this.selectedPlant.id,this.currentCount,(e=this.selectedPlant)==null?void 0:e.img[0],this.selectedPlant.name,this.selectedPlant.price),this.togglePopUpBag())},decrementCount(){this.currentCount>1&&(this.currentCount--,this.updatePlantCount(this.plantId,this.currentCount))},incrementCount(){this.currentCount<10&&(this.currentCount++,this.updatePlantCount(this.plantId,this.currentCount))}},watch:{count(e){this.currentCount=e},"$route.params.id":"fetchPlantData"},async created(){localStorage.getItem("newsPlants")||await this.getStatusPlants()},async mounted(){await this.fetchPlantData()}},tt={key:0,class:"plant"},et={class:"plant__container"},st={class:"plant__content"},nt={class:"plant__images"},lt=["onClick"],at=["src","alt","title"],it={key:0,class:"progressBar"},ot={key:1,class:"plant__image-active"},rt=["src","alt","title"],dt={class:"plant__main"},ct={class:"plant__name"},pt={class:"plant__price"},ut={key:0},_t={class:"plant__originalPrice"},ht={class:"plant__salesPrice"},mt={key:1},gt={class:"plant__height"},Pt={class:"plant__category"},bt={class:"plant__counter actions"},Ct=["disabled"],Tt={class:"actions__count"},ft=["disabled"],vt={key:0,class:"plant__overlay"},Bt={class:"tab__desc"},yt={class:"tab__desc"},kt={class:"tab__desc"},It={class:"tab__desc"},St={class:"tab__desc"},Ut={class:"tab__desc"},wt={key:1,class:"loader__wrapper"};function Vt(e,s,Dt,Et,l,o){var T,f,v,B,y,k,I,S,U,w,V,D,E,N;const O=p("TheButtonOrange"),z=p("PopUpBag"),C=p("TheTab"),F=p("TheTabsWrapper"),q=p("TheSlider"),A=p("TheError");return e.selectedPlant?(i(),d("div",tt,[t("div",et,[t("div",st,[t("div",nt,[(i(!0),d(X,null,Y((T=e.selectedPlant)==null?void 0:T.img,(a,r)=>{var u,_;return i(),d("div",{class:L(["plant__image",{active:l.selectedImage===r}]),key:r,onClick:Nt=>o.selectImage(r)},[t("img",{src:a,alt:(u=e.selectedPlant)==null?void 0:u.name,title:(_=e.selectedPlant)==null?void 0:_.name},null,8,at)],10,lt)}),128))]),(f=e.selectedPlant)!=null&&f.img.length?(i(),d("div",it,[t("div",{class:"progressBar__width",style:Z({height:o.progressBarHeight+"px"})},null,4)])):g("",!0),l.selectedImage!==null?(i(),d("div",ot,[t("img",{src:(v=e.selectedPlant)==null?void 0:v.img[l.selectedImage],alt:(B=e.selectedPlant)==null?void 0:B.name,title:(y=e.selectedPlant)==null?void 0:y.name},null,8,rt)])):g("",!0),t("div",dt,[t("span",{class:L(o.getStatusClass((k=e.selectedPlant)==null?void 0:k.status))},n((I=e.selectedPlant)==null?void 0:I.status),3),t("span",ct,n((S=e.selectedPlant)==null?void 0:S.name),1),t("div",pt,[s[2]||(s[2]=P(" Ціна: ")),((U=e.selectedPlant)==null?void 0:U.status)==="Розпродаж"?(i(),d("div",ut,[t("span",_t,n((w=e.selectedPlant)==null?void 0:w.price)+" ₴ ",1),t("span",ht,n(((V=e.selectedPlant)==null?void 0:V.price)*.7)+" ₴ ",1)])):(i(),d("div",mt,[t("span",null,n((D=e.selectedPlant)==null?void 0:D.price)+" ₴",1)]))]),t("span",gt,[s[3]||(s[3]=t("span",null,"Висота",-1)),P(": "+n((E=e.selectedPlant)==null?void 0:E.height)+" см",1)]),t("span",Pt,[s[4]||(s[4]=t("span",null,"Категорія:",-1)),P(" "+n((N=e.selectedPlant)==null?void 0:N.category),1)]),t("div",bt,[t("button",{class:"actions__decrement",onClick:s[0]||(s[0]=(...a)=>o.decrementCount&&o.decrementCount(...a)),disabled:l.currentCount===1},null,8,Ct),t("span",Tt,n(l.currentCount),1),t("button",{class:"actions__increment",onClick:s[1]||(s[1]=(...a)=>o.incrementCount&&o.incrementCount(...a)),disabled:l.currentCount===10},null,8,ft)]),c(O,{onClick:o.addPlantToBag,title:l.titleButton,width:320},null,8,["onClick","title"])])]),l.isPopUpVisible?(i(),d("div",vt,[c(z,{isPopUpVisible:l.isPopUpVisible,togglePopUpBag:o.togglePopUpBag},null,8,["isPopUpVisible","togglePopUpBag"])])):g("",!0),c(F,{class:"tab",borderWidth:1},{default:b(()=>[c(C,{title:"ХАРАКТЕРИСТИКИ",class:"tab__items"},{default:b(()=>{var a,r;return[t("p",Bt,n((a=e.selectedPlant)==null?void 0:a.desc),1),t("p",yt,n((r=e.selectedPlant)==null?void 0:r.conditionsСare),1)]}),_:1}),c(C,{title:"ДОГЛЯД",class:"tab__items"},{default:b(()=>{var a,r,u,_;return[t("div",kt,[s[5]||(s[5]=t("span",null,"Тип ґрунту:",-1)),t("p",null,n((a=this.selectedPlant)==null?void 0:a.soilType),1)]),t("div",It,[s[6]||(s[6]=t("span",null,"Світло:",-1)),t("p",null,n((r=this.selectedPlant)==null?void 0:r.lightRequirement),1)]),t("div",St,[s[7]||(s[7]=t("span",null,"Температура:",-1)),t("p",null,n((u=this.selectedPlant)==null?void 0:u.temperature),1)]),t("div",Ut,[s[8]||(s[8]=t("span",null,"Вологість:",-1)),t("p",null,n((_=this.selectedPlant)==null?void 0:_.humidityLevel),1)])]}),_:1})]),_:1},8,["borderWidth"])]),c(q,{title:l.title,values:e.newsPlants},null,8,["title","values"])])):l.loading?(i(),d("div",wt,s[9]||(s[9]=[t("div",{class:"loader"},null,-1)]))):(i(),x(A,{key:2}))}const jt=Q($,[["render",Vt],["__scopeId","data-v-f49ab51a"]]);export{jt as default};
