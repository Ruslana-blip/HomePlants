import{T as I,a as S}from"./TheTab-Cripc5QL.js";import{a as N,T as L,u as U}from"./TheCatalogItem-F9s7soyV.js";import{T as O}from"./TheButtonOrange-BIz4xVJP.js";import{T as x}from"./ThePersonalityInfo-oJFC8jpe.js";import{F as R,u as y}from"./users-ayq1BXwY.js";import{_ as V,m as P,a as v,c as r,b as e,d as s,w as o,f as d,o as l,F as k,r as b,t as m}from"./index-CrEprENQ.js";import{u as B}from"./categories-DSXdPruc.js";import"./PopUpBag-DbFKedAG.js";import"./TheBagsItem-r3fw0yKX.js";const E="/assets/%D0%BA%D0%B0%D0%BA%D1%82%D1%83%D1%81-BIangaTe.png",q="/assets/%D0%97%D0%B0%D0%BC%D1%96%D0%BE%D0%BA%D1%83%D0%BB%D1%8C%D0%BA%D0%B0%D1%81-p12Ldqmi.png",W="/assets/Anthurium-LUyqZFx3.png",Z="/assets/Rosemary-C5beq1gw.png",H="/assets/CalisiaBianca-bhgOftMR.png",M={name:"TheAccount",components:{TheTabsWrapper:I,TheTab:S,TheCatalogItem:N,TheNavigation:L,VeeForm:R,TheButtonOrange:O,ThePersonalityInfo:x},data(){return{orders:[{idOrder:"0202",data:"12/04/2023",plants:[{id:0,img:E,name:"Ехінокактус",price:"150",count:"2"},{id:1,img:q,name:"Заміокулькас",price:"1200",count:"10"},{id:2,img:W,name:"Антуріум Black Queen",price:"620",count:"5"}]},{idOrder:"0101",data:"10/02/2023",plants:[{id:3,img:Z,name:"Розмарин",price:"1200",count:"1"},{id:4,img:H,name:"Калізія Bianca",price:"1800",count:"1"}]}],liked:[],currentPlants:[]}},computed:{...P(U,["likedPlants"]),...P(B,["selectedPlant"])},methods:{...v(B,["getPlantById"]),...v(y,["removeActiveUser"]),setFilteredPlants(a){this.liked=a,this.updatePage(1)},updatePage(a){const t=(a-1)*9,i=t+9;this.currentPlants=this.liked.slice(t,i)},saveChanges(){var t,i,g,c;const a=y();a.updateUserName((t=this.user[0])==null?void 0:t.name),a.updateUserLastName((i=this.user[0])==null?void 0:i.lastName),a.updateUserNumber((g=this.user[0])==null?void 0:g.number),a.updateUserEmail((c=this.user[0])==null?void 0:c.email)}},async mounted(){try{const a=this.likedPlants.map(i=>this.getPlantById(i)),t=await Promise.all(a);this.liked=t.filter(i=>i!==null),this.setFilteredPlants(this.liked)}catch(a){console.error("Error fetching liked plants:",a)}}},Q={class:"account"},j={class:"account__container"},z={key:0,class:"order"},G={class:"order__header"},J={class:"order__item"},K={class:"order__img"},X=["src","alt","title"],Y={class:"order__body"},$={class:"order__info"},tt={class:"order__footer"},et={key:1,class:"empty"},st={key:0},at={key:1,class:"empty"},nt={class:"empty"},ot={class:"empty__btns"};function it(a,t,i,g,c,f){const u=d("TheButtonOrange"),p=d("RouterLink"),h=d("TheTab"),C=d("TheCatalogItem"),D=d("TheNavigation"),w=d("ThePersonalityInfo"),A=d("VeeForm"),F=d("TheTabsWrapper");return l(),r("div",Q,[e("div",j,[s(F,{class:"account__tabs",display:"flex",direction:"column",font:"Lato",height:81,center:"center",margin:80,flex:304},{default:o(()=>[s(h,{class:"account__tab",title:"МОЇ ЗАМОВЛЕННЯ"},{default:o(()=>[c.orders.length?(l(),r("div",z,[(l(!0),r(k,null,b(c.orders,_=>(l(),r("div",{class:"order__wrapp",key:_.id},[e("div",G,[e("span",null,"№"+m(_.idOrder),1),e("span",null,m(_.data),1)]),(l(!0),r(k,null,b(_.plants,n=>(l(),r("div",{class:"order__main",key:n.id},[e("div",J,[e("div",K,[e("img",{src:n.img,alt:n.name,title:n.name},null,8,X)]),e("div",Y,[e("div",$,[e("span",null,m(n.name),1),e("span",null,m(n.price*n.count)+" ₴",1)]),e("span",null,"Кількість: "+m(n.count)+" шт",1)])])]))),128)),e("div",tt,[t[0]||(t[0]=e("span",null,"Разом до сплати:",-1)),e("span",null,m(_.plants.reduce((n,T)=>n+T.price*T.count,0))+" ₴",1)])]))),128))])):(l(),r("div",et,[t[1]||(t[1]=e("h2",{class:"empty__title"},"Ваша історія покупок порожня",-1)),t[2]||(t[2]=e("p",{class:"empty__desc"}," Ви ще не зробили жодної покупки. Почніть шопінг прямо зараз і заповніть свій список улюбленими товарами! ",-1)),s(p,{to:{name:"TheCatalogPage"}},{default:o(()=>[s(u,{width:378,title:"ПЕРЕЙТИ ДО КАТАЛОГУ"})]),_:1})]))]),_:1}),s(h,{class:"account__tab",title:"ВПОДОБАНЕ"},{default:o(()=>[c.currentPlants.length?(l(),r("div",st,[s(C,{showPlants:c.currentPlants,class:"account__liked"},null,8,["showPlants"]),s(D,{"cards-per-page":9,onShowPage:f.updatePage,"total-plants":c.liked,class:"account__navigation"},null,8,["onShowPage","total-plants"])])):(l(),r("div",at,[t[3]||(t[3]=e("h2",{class:"empty__title"},"У вас ще немає вподобаних товарів",-1)),t[4]||(t[4]=e("p",{class:"empty__desc"}," Ми оновимо інформацію, як тільки Ви додасте товари, що сподобалися ",-1)),s(p,{to:{name:"TheCatalogPage"}},{default:o(()=>[s(u,{width:378,title:"ПЕРЕЙТИ ДО КАТАЛОГУ"})]),_:1})]))]),_:1}),s(h,{class:"account__tab",title:"ОСОБИСТІ ДАНІ"},{default:o(()=>[s(A,{class:"account__form form",onSubmit:f.saveChanges},{default:o(()=>[s(w),s(u,{title:"зберегти зміни",width:310,class:"form__btn"})]),_:1},8,["onSubmit"])]),_:1}),s(h,{class:"account__tab",title:"ВИЙТИ"},{default:o(()=>[e("div",nt,[t[6]||(t[6]=e("h2",{class:"empty__title"},"Ви впевнені, що хочете вийти?",-1)),t[7]||(t[7]=e("p",{class:"empty__desc"}," Ваші незбережені зміни можуть бути втрачені, і ви не зможете переглянути історію покупок або стежити за замовленнями. ",-1)),e("div",ot,[s(p,{to:{name:"HomePage"},onClick:a.removeActiveUser},{default:o(()=>t[5]||(t[5]=[e("button",{class:"empty__btn"},"ВИЙТИ",-1)])),_:1},8,["onClick"]),s(p,{to:{name:"TheCatalogPage"}},{default:o(()=>[s(u,{width:284,title:"ЗАЛИШИТИСЯ"})]),_:1})])])]),_:1})]),_:1})])])}const gt=V(M,[["render",it],["__scopeId","data-v-614d88b0"]]);export{gt as default};
